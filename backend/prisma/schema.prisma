generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model Expense {
  id          String   @id @default(uuid())
  description String
  amount      Float
  date        DateTime
  category    String
  propertyId  String
  tenantId    String?
  createdAt   DateTime @default(now())
  updatedAt   DateTime
  Property    Property @relation(fields: [propertyId], references: [id])
  Tenant      Tenant?  @relation(fields: [tenantId], references: [id])
}

model Payment {
  id            String   @id @default(uuid())
  tenantId      String
  amount        Float
  date          DateTime
  paymentMethod String
  status        String   @default("completed")
  notes         String?
  createdAt     DateTime @default(now())
  updatedAt     DateTime
  Tenant        Tenant   @relation(fields: [tenantId], references: [id])
}

model Property {
  id        String    @id @default(uuid())
  name      String
  address   String
  type      String
  units     Int
  createdAt DateTime  @default(now())
  updatedAt DateTime
  Expense   Expense[]
  Tenant    Tenant[]
}

model Tenant {
  id         String    @id @default(uuid())
  name       String
  email      String
  phone      String
  propertyId String
  rentAmount Float
  leaseStart DateTime
  leaseEnd   DateTime
  isArchived Boolean   @default(false)
  createdAt  DateTime  @default(now())
  updatedAt  DateTime
  Expense    Expense[]
  Payment    Payment[]
  Property   Property  @relation(fields: [propertyId], references: [id])
}
